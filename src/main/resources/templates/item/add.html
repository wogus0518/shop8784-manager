<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/bootstrap.min.css}"
          href="css/bootstrap.min.css" rel="stylesheet">
    <title>8784</title>
    <style>
        .container {
            max-width: 560px;
        }
        .field-error {
            border-color: #dc3545;
            color: #dc3545;
        }
    </style>

</head>

<body>

<script th:inline="javascript">
    function changeCategory(){
        var langSelect = document.getElementById("selectbox");

        // select element에서 선택된 option의 value가 저장된다.
        var selectValue = langSelect.options[langSelect.selectedIndex].value;
        console.log(selectValue);
        // select element에서 선택된 option의 text가 저장된다.
        var selectText = langSelect.options[langSelect.selectedIndex].text;
    }
</script>
    <div th:insert="~{fragment/nav :: nav}"></div>
    <div class="container">
        <div class="py-5 text-center">
            <h2>商品登録</h2>
        </div>
        <form th:action method="post" th:object="${addItemDto}">
            <div th:if="${#fields.hasGlobalErrors()}">
                <p class="field-error" th:each="err : ${#fields.globalErrors()}"
                   th:text="${err}">전체 오류 메시지</p>
            </div>
            <div class="box">
                <div>カテゴリー</div>
                <select id="selectbox" th:field="*{category}" class="form-select" th:onchange="changeCategory()">
                    <option value="">==カテゴリー選択 ==</option>
                    <option th:each="category : ${categories}" th:value="${category.name()}"
                            th:text="${category.description}">의류</option>
                </select>
            </div>
            <div class="mt-4">
                <label for="name">商品名</label>
                <input type="text" id="name" th:field="*{name}"
                       class="form-control" th:errorclass="field-error">
                <div class="field-error" th:errors="*{name}"/>
            </div>
            <div class="mt-4">
                <label for="store">仕入れ先</label>
                <input type="text" id="store" th:field="*{store}"
                       class="form-control" th:errorclass="field-error">
                <div class="field-error" th:errors="*{store}"/>
            </div>
            <div class="mt-4">
                <label for="cost">原価</label>
                <input type="text" id="cost" th:field="*{cost}"
                       class="form-control" th:errorclass="field-error">
                <div class="field-error" th:errors="*{cost}"/>

            </div>
            <div class="mt-4">
                <label for="price">販売価格</label>
                <input type="text" id="price" th:field="*{price}"
                       class="form-control" th:errorclass="field-error">
                <div class="field-error" th:errors="*{price}"/>
            </div>
            <hr class="my-4">
            <p>在庫数量</p>

            <div class="row">
                <div class="col-md-4">
                    <label for="medium">medium</label>
                    <input type="text" id="medium" class="form-control" th:field="*{medium}">
                </div>
                <div class="col-md-4">
                    <label for="large">large</label>
                    <input type="text" id="large" class="form-control" th:field="*{large}">
                </div>
                <div class="col-md-4">
                    <label for="free">free</label>
                    <input type="text" id="free" class="form-control" th:field="*{free}">
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-md-4">
                    <label for="shoes230">230</label>
                    <input type="text" id="shoes230" class="form-control" th:field="*{shoes230}">
                </div>
                <div class="col-md-4">
                    <label for="shoes240">240</label>
                    <input type="text" id="shoes240" class="form-control" th:field="*{shoes240}">
                </div>
                <div class="col-md-4">
                    <label for="shoes250">250</label>
                    <input type="text" id="shoes250" class="form-control" th:field="*{shoes250}">
                </div>
            </div>
            <hr class="my-4">
            <button class="w-100 btn btn-primary btn-lg" type="submit">
                登録する</button>
        </form>



    </div>
</body>
</html>